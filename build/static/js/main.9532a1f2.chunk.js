(this.webpackJsonpmyproject=this.webpackJsonpmyproject||[]).push([[0],{21:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(16),s=n.n(r),c=(n(21),n(3)),l=n(4),o=n.n(l),u="/api/persons",j=function(e){return o.a.post(u,e).then((function(e){return e.data}))},b=function(){return o.a.get(u).then((function(e){return e.data}))},d=function(e){return o.a.delete("".concat(u,"/").concat(e)).then((function(e){return e.data}))},m=function(e,t){return o.a.put("".concat(u,"/").concat(e),t).then((function(e){return e.data}))},h=n(0),O=function(e){var t=e.name,n=e.setName,i=e.salary,r=e.setSalary,s=e.email,l=e.setEmail,o=e.designation,u=e.setDesignation,b=e.persons,d=e.setPersons,O=Object(a.useState)(null),f=Object(c.a)(O,2),x=f[0],p=f[1];return Object(h.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),isNaN(i))return p("Must be a number"),0;var a={name:t,email:s,salary:i,designation:o},c=b.find((function(e){return e.email===a.email}));c?window.confirm("Do you want to update the existing entity?")&&m(c.id,a).then((function(e){d(b.map((function(t){return t.email!==a.email?t:e})))})):j(a).then((function(e){return d(b.concat(e))}));n(""),r(""),l(""),u(""),p(null)},children:[Object(h.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(h.jsx)("input",{name:"name",id:"name",required:!0,onChange:function(e){var t=e.target;return n(t.value)},value:t}),Object(h.jsx)("br",{}),Object(h.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(h.jsx)("input",{name:"email",type:"email",id:"email",required:!0,onChange:function(e){var t=e.target;return l(t.value)},value:s}),Object(h.jsx)("br",{}),Object(h.jsx)("label",{htmlFor:"salary",children:"Salary:"}),Object(h.jsx)("input",{name:"salary",id:"salary",required:!0,onChange:function(e){var t=e.target;return r(t.value)},value:i})," ",Object(h.jsx)("span",{style:{color:"red"},children:x})," ",Object(h.jsx)("br",{}),Object(h.jsx)("label",{htmlFor:"designation",children:"Designation:"}),Object(h.jsx)("input",{name:"designation",id:"designation",list:"design",required:!0,onChange:function(e){var t=e.target;return u(t.value)},value:o}),Object(h.jsx)("br",{}),Object(h.jsxs)("datalist",{id:"design",children:[Object(h.jsx)("option",{value:"Graphic designer"}),Object(h.jsx)("option",{value:"Civil Engineer"}),Object(h.jsx)("option",{value:"Photographer"}),Object(h.jsx)("option",{value:"Web Developer"}),Object(h.jsx)("option",{value:"Doctor"})]}),Object(h.jsx)("input",{type:"submit",value:"Submit"})]})},f=function(e){var t=e.setName,n=e.setEmail,a=e.setSalary,i=e.setDesignation,r=e.persons,s=e.setPersons;return Object(h.jsxs)("table",{style:{width:"80%",marginLeft:"auto",marginRight:"auto",border:"1px solid"},children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Name"}),Object(h.jsx)("th",{children:"Email"}),Object(h.jsx)("th",{children:"Salary"}),Object(h.jsx)("th",{children:"Designation"}),Object(h.jsx)("th",{children:"Action"})]})}),Object(h.jsx)("tbody",{children:r.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{children:[" ",e.name," "]}),Object(h.jsxs)("td",{children:[" ",e.email," "]}),Object(h.jsxs)("td",{children:[" ",e.salary," "]}),Object(h.jsxs)("td",{children:[" ",e.designation," "]}),Object(h.jsxs)("td",{children:[Object(h.jsx)("button",{onClick:function(){return function(e){var s=r.find((function(t){return t.id===e}));t(s.name),n(s.email),a(s.salary),i(s.designation)}(e.id)},children:"Edit"}),"/",Object(h.jsx)("button",{onClick:function(){return t=e.id,void d(t).then((function(e){s(r.filter((function(e){return e.id!==t})))}));var t},children:"Delete"})]})]},e.id)}))})]})},x=function(e){var t=e.persons,n=e.setPersons,i=Object(a.useState)(""),r=Object(c.a)(i,2),s=r[0],l=r[1],o=Object(a.useState)(""),u=Object(c.a)(o,2),j=u[0],d=u[1];return Object(h.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""!==s&&""!==j){var a=new RegExp(s,"i"),i=t.filter((function(e){return-1!==e.name.search(a)&&e}));if(i.length>0){var r=i.find((function(e){return e.email===j}));t.length=0,n(t.concat(r))}else alert("No person's email exists with this name, try again!");l(""),d("")}else if(""!==s&&""===j){var c=new RegExp(s,"i"),o=t.filter((function(e){return-1!==e.name.search(c)&&e}));n(o),l("")}else if(""===s&&""!==j){var u=t.find((function(e){return e.email===j}));t.length=0,n(t.concat(u)),d("")}else b().then((function(e){return n(e)}))},children:[Object(h.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(h.jsx)("input",{name:"name",id:"name",onChange:function(e){var t=e.target;return l(t.value)},value:s}),Object(h.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(h.jsx)("input",{name:"email",type:"email",id:"email",onChange:function(e){var t=e.target;return d(t.value)},value:j}),Object(h.jsx)("input",{type:"submit",value:"Search"})]})},p=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(""),s=Object(c.a)(r,2),l=s[0],o=s[1],u=Object(a.useState)(""),j=Object(c.a)(u,2),d=j[0],m=j[1],p=Object(a.useState)(""),g=Object(c.a)(p,2),v=g[0],y=g[1],S=Object(a.useState)(""),E=Object(c.a)(S,2),D=E[0],N=E[1];return Object(a.useEffect)((function(){b().then((function(e){return i(e)}))}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)(O,{name:l,setName:o,salary:v,setSalary:y,email:d,setEmail:m,designation:D,setDesignation:N,persons:n,setPersons:i}),Object(h.jsx)(x,{persons:n,setPersons:i}),Object(h.jsx)(f,{setName:o,setEmail:m,setSalary:y,setDesignation:N,persons:n,setPersons:i})]})};s.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(p,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.9532a1f2.chunk.js.map